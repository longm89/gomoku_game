(this.webpackJsonpgomoku=this.webpackJsonpgomoku||[]).push([[0],{22:function(t,n,e){},43:function(t,n,e){"use strict";e.r(n),e.d(n,"size",(function(){return A}));var r=e(3),a=e(1),c=e(17),o=e.n(c),u=(e(22),function(t){return[{stretch:[[0,0],[0,1],[0,2],[0,3],[0,4]],startI:0,endI:t,startJ:0,endJ:t-4},{stretch:[[0,0],[1,0],[2,0],[3,0],[4,0]],startI:0,endI:t-4,startJ:0,endJ:t},{stretch:[[0,0],[1,1],[2,2],[3,3],[4,4]],startI:0,endI:t-4,startJ:0,endJ:t-4},{stretch:[[4,0],[3,1],[2,2],[1,3],[0,4]],startI:0,endI:t-4,startJ:0,endJ:t-4}]});function i(t){for(var n=t.length,e=u(n),r=0;r<e.length;r++)for(var a=e[r],c=function(n){for(var e=function(e){var r=a.stretch.map((function(t){return[t[0]+n,t[1]+e]})).map((function(n){return t[n[0]][n[1]]}));if(null!==r[0]&&r[0]===r[1]&&r[1]===r[2]&&r[2]===r[3]&&r[3]===r[4])return{v:{v:a.stretch.map((function(t){return[t[0]+n,t[1]+e]}))}}},r=a.startJ;r<a.endJ;r++){var c=e(r);if("object"===typeof c)return c.v}},o=a.startI;o<a.endI;o++){var i=c(o);if("object"===typeof i)return i.v}return null}for(var l=e(5),s=[["X","X","X","X","X"],[null,"X","X","X","X"],["X","X","X","X",null],["X","X","X",null,"X"],["X",null,"X","X","X"],["X","X",null,"X","X"],[null,"X","X","X",null],["X","X","X",null,null],[null,null,"X","X","X"],[null,"X",null,"X","X"],["X",null,"X",null,"X"],["X","X",null,"X",null],[null,"X","X",null,"X"],["X",null,"X","X",null],[null,"X",null,"X",null],[null,"X","X",null,null],[null,null,"X","X",null]],h=[[Math.pow(10,8),Math.pow(10,8)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,6),Math.pow(10,5)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,2),10],[Math.pow(10,2),10],[Math.pow(10,2),10]],p=s.map((function(t){return t.slice()})),f=0;f<s.length;f++)for(var j=0;j<s[f].length;j++)"X"===p[f][j]&&(p[f][j]="O");for(var d=h.map((function(t){return t.slice()})),m=0;m<d.length;m++)d[m][0]=-h[m][0],d[m][1]=-h[m][1];function b(t,n){return Math.pow(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),.5)}var v=function(t,n){var e=function(t){for(var n=[],e=t.length,r=new Array(e).fill().map((function(){return Array(e).fill(1e6)})),a=0;a<e;a++)for(var c=0;c<e;c++)for(var o=0;o<e;o++)for(var u=0;u<e;u++)null!==t[o][u]&&r[a][c]>b([a,c],[o,u])&&(r[a][c]=b([a,c],[o,u]));for(var i=0;i<e;i++)for(var l=0;l<e;l++)r[i][l]>1e-4&&r[i][l]<4&&n.push([i,l,r[i][l]]);return n.sort((function(t,n){return r[n[0]][n[1]]>r[t[0]][t[1]]?-1:r[n[0]][n[1]]<r[t[0]][t[1]]?1:0})),n.length>60&&(n=n.slice(0,60)),0===(n=n.filter((function(t){return t[2]<=2}))).length&&n.push([Math.floor(e/2),Math.floor(e/2)]),n}(t),r=-Math.pow(10,9),a=Math.pow(10,9),c=0;return function t(n,r,a,o,f){var j=i(o);if(null!==j){for(var m,b,v=0;v<e.length;v++){var O=e[v][0],X=e[v][1];if(null===o[O][X]){m=O,b=X;break}}return"X"===o[j[0][0]][j[0][1]]?{point:Math.pow(10,9),x:m,y:b,pointX:Math.pow(10,9),pointO:0}:{point:-Math.pow(10,9),x:m,y:b,pointX:0,pointO:-Math.pow(10,9)}}if(0===n)return Object(l.a)({},function(t,n){for(var e=t.length,r=u(e),a=0,c=0,o=0,i=0;i<r.length;i++){for(var f=Object(l.a)({},r[i]),j=function(e){for(var r=function(r){for(var o=0;o<s.length;o++){var u=f.stretch.map((function(t){return[t[0]+e,t[1]+r]})).map((function(n){return t[n[0]][n[1]]}));if(s[o][0]===u[0]&&s[o][1]===u[1]&&s[o][2]===u[2]&&s[o][3]===u[3]&&s[o][4]===u[4]){n?(a+=h[o][0],c+=h[o][0]):(a+=h[o][1],c+=h[o][1]);break}}},o=f.startJ;o<f.endJ;o++)r(o)},m=f.startI;m<f.endI;m++)j(m);for(var b=function(e){for(var r=function(r){for(var c=0;c<p.length;c++){var u=f.stretch.map((function(t){return[t[0]+e,t[1]+r]})).map((function(n){return t[n[0]][n[1]]}));if(p[c][0]===u[0]&&p[c][1]===u[1]&&p[c][2]===u[2]&&p[c][3]===u[3]&&p[c][4]===u[4]){n?(a+=d[c][1],o+=d[c][1]):(a+=d[c][0],o+=d[c][0]);break}}},c=f.startJ;c<f.endJ;c++)r(c)},v=f.startI;v<f.endI;v++)b(v)}return{point:a,pointX:c,pointO:o}}(o,f));if(f){for(var x,w,M,g,S=-2*Math.pow(10,9),y=o.map((function(t){return t.slice()})),k=0;k<e.length;k++){var N=e[k][0],_=e[k][1];if(null===o[N][_]){if((c+=1)>3e3)break;y[N][_]="X";var I=t(n-1,r,a,y,!1);if(y[N][_]=null,S<I.point&&(S=I.point,M=I.pointX,g=I.pointO,x=N,w=_),r<S&&(r=S),r>=a)break}}return{point:S,x:x,y:w,pointX:M,pointO:g}}for(var J,C,A,q,H=2*Math.pow(10,9),W=o.map((function(t){return t.slice()})),T=0;T<e.length;T++){var E=e[T][0],L=e[T][1];if(null===o[E][L]){if((c+=1)>3e3)break;W[E][L]="O";var R=t(n-1,r,a,W,!0);if(W[E][L]=null,H>R.point&&(H=R.point,J=R.pointX,C=R.pointO,A=E,q=L),a>H&&(a=H),a<=r)break}}return{point:H,x:A,y:q,pointX:J,pointO:C}}(2,r,a,t,n)},O=e(0),X=function(){return Object(O.jsxs)("div",{className:"heading",children:[Object(O.jsx)("h1",{children:"Welcome to the game of Gomoku"}),Object(O.jsx)("p",{children:"The person who gets the first Five wins!"})]})},x=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Scores"}),Object(O.jsxs)("div",{className:"scoreRow",children:[Object(O.jsxs)("div",{className:"humanScore",children:[Object(O.jsx)("h3",{children:"Human"}),Object(O.jsx)("p",{children:t.humanScore})]}),Object(O.jsxs)("div",{className:"computerScore",children:[Object(O.jsx)("h3",{children:"Computer"}),Object(O.jsx)("p",{children:t.computerScore})]})]})]})},w=function(t){return Object(O.jsx)("button",{className:"square \n                ".concat(t.isLastMove?"hightLight":"normal"," \n                ").concat(t.isWinning?"winning animate__animated animate__tada animate__repeat-3":""),style:"O"===t.lastSymbol?{cursor:"default"}:{cursor:"wait"},onClick:function(){return t.onClick()},children:t.value})},M=function(t){var n=t.squares,e=t.lastMove,r=t.handleClick;return Object(O.jsx)("div",{children:n.map((function(t,a){return Object(O.jsx)("div",{className:"boardRow",children:t.map((function(t,c){return function(t,a){return Object(O.jsx)(w,{value:n[t][a],onClick:function(){return r(t,a)},lastSymbol:e?n[e[0]][e[1]]:"O",isLastMove:e&&e[0]===t&&e[1]===a,isWinning:i(n)&&i(n).filter((function(n){return n[0]===t&&n[1]===a})).length>0},a.toString())}(a,c)}))},a.toString())}))})},g=function(t){var n=i(t.squares);return Object(O.jsx)("div",{className:"status",children:null!==n?"X"===t.squares[n[0][0]][n[0][1]]?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{className:"animate__animated animate__flash animate__repeat-3",children:"Human! "})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{className:"animate__animated animate__flash animate__repeat-3",children:"Computer!!"})]}):t.xIsNext?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Human (X): Click on a square to play"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Computer (O): Thinking..."})]})})},S=function(t){var n=t.scores;return Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsxs)("p",{children:["The game has been played ",Object(O.jsx)("span",{className:"scoreStat",children:n.humanScore+n.computerScore})," times."]}),Object(O.jsxs)("p",{children:["Human: ",Object(O.jsx)("span",{className:"scoreStat",children:n.humanScore})," vs Computer: ",Object(O.jsx)("span",{className:"scoreStat",children:n.computerScore})]})]})},y=e(4),k=e.n(y),N=e(6),_=e(7),I=e.n(_),J="/api/scores",C={getAll:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(J);case 2:return n=t.sent,e=n.data[0],r={humanScore:e.humanScore,computerScore:e.computerScore},t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addHumanScore:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={score:1},t.next=3,I.a.put("".concat(J,"/humanScore"),n);case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addComputerScore:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={score:1},t.next=3,I.a.put("".concat(J,"/computerScore"),n);case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},A=15,q=function(){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),e=n[0],c=n[1],o=Object(a.useState)(new Array(A).fill().map((function(){return new Array(A).fill(null)}))),u=Object(r.a)(o,2),l=u[0],s=u[1],h=Object(a.useState)(e),p=Object(r.a)(h,2),f=p[0],j=p[1],d=Object(a.useState)(null),m=Object(r.a)(d,2),b=m[0],w=m[1],y=Object(a.useState)(0),k=Object(r.a)(y,2),N=k[0],_=k[1],I=Object(a.useState)(0),J=Object(r.a)(I,2),q=J[0],H=J[1],W=Object(a.useState)({humanScore:0,computerScore:0}),T=Object(r.a)(W,2),E=T[0],L=T[1];Object(a.useEffect)((function(){C.getAll().then((function(t){L(t),console.log("The scores is ",t)}))}),[]),Object(a.useEffect)((function(){if(null===i(l)&&!f){var t=l.map((function(t){return t.slice()})),n=v(t,f);t[n.x][n.y]="O",s(t),w([n.x,n.y]),j(!0),null!==i(t)&&(_(N+1),C.addComputerScore().then((function(t){L(t)})))}}),[f,e]);var R=null===b?{display:"none"}:{display:"initial"};return Object(O.jsxs)("div",{className:"total_game",children:[Object(O.jsx)(X,{}),Object(O.jsxs)("div",{className:"board_and_info",children:[Object(O.jsx)(M,{squares:l,lastMove:b,handleClick:function(t,n){if(!l[t][n]&&null===i(l)&&f){var e=l.map((function(t){return t.slice()}));e[t][n]="X",s(e),w([t,n]),j(!1),null!==i(e)&&(H(q+1),C.addHumanScore().then((function(t){L(t)})))}}}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"status",children:Object(O.jsx)(g,{squares:l,xIsNext:f})}),Object(O.jsx)("div",{className:"score",children:Object(O.jsx)(x,{humanScore:q,computerScore:N})}),Object(O.jsx)("button",{onClick:function(){s(new Array(A).fill().map((function(){return new Array(A).fill(null)})));var t=!e;c(t),j(t),w(null)},style:R,children:null===i(l)?"Restart the game ? ":"Another game ?"}),Object(O.jsx)(S,{scores:E})]})]})]})};o.a.render(Object(O.jsx)(q,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b1ea6ed3.chunk.js.map