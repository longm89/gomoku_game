(this.webpackJsonpgomoku=this.webpackJsonpgomoku||[]).push([[0],{22:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e),n.d(e,"size",(function(){return A}));var r=n(3),a=n(1),c=n(17),o=n.n(c),i=(n(22),function(t){return[{stretch:[[0,0],[0,1],[0,2],[0,3],[0,4]],startI:0,endI:t,startJ:0,endJ:t-4},{stretch:[[0,0],[1,0],[2,0],[3,0],[4,0]],startI:0,endI:t-4,startJ:0,endJ:t},{stretch:[[0,0],[1,1],[2,2],[3,3],[4,4]],startI:0,endI:t-4,startJ:0,endJ:t-4},{stretch:[[4,0],[3,1],[2,2],[1,3],[0,4]],startI:0,endI:t-4,startJ:0,endJ:t-4}]});function u(t){for(var e=t.length,n=i(e),r=0;r<n.length;r++)for(var a=n[r],c=function(e){for(var n=function(n){var r=a.stretch.map((function(t){return[t[0]+e,t[1]+n]})).map((function(e){return t[e[0]][e[1]]}));if(null!==r[0]&&r[0]===r[1]&&r[1]===r[2]&&r[2]===r[3]&&r[3]===r[4])return{v:{v:a.stretch.map((function(t){return[t[0]+e,t[1]+n]}))}}},r=a.startJ;r<a.endJ;r++){var c=n(r);if("object"===typeof c)return c.v}},o=a.startI;o<a.endI;o++){var u=c(o);if("object"===typeof u)return u.v}return null}for(var l=n(5),s=[["X","X","X","X","X"],[null,"X","X","X","X"],["X","X","X","X",null],["X","X","X",null,"X"],["X",null,"X","X","X"],["X","X",null,"X","X"],[null,"X","X","X",null],["X","X","X",null,null],[null,null,"X","X","X"],[null,"X",null,"X","X"],["X",null,"X",null,"X"],["X","X",null,"X",null],[null,"X","X",null,"X"],["X",null,"X","X",null],[null,"X",null,"X",null],[null,"X","X",null,null],[null,null,"X","X",null]],h=[[Math.pow(10,8),Math.pow(10,8)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,6),Math.pow(10,5)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,2),10],[Math.pow(10,2),10],[Math.pow(10,2),10]],p=s.map((function(t){return t.slice()})),f=0;f<s.length;f++)for(var j=0;j<s[f].length;j++)"X"===p[f][j]&&(p[f][j]="O");for(var m=h.map((function(t){return t.slice()})),d=0;d<m.length;d++)m[d][0]=-h[d][0],m[d][1]=-h[d][1];function b(t,e){return Math.pow(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2),.5)}var v=function(t,e){var n=function(t){for(var e=[],n=t.length,r=new Array(n).fill().map((function(){return Array(n).fill(1e6)})),a=0;a<n;a++)for(var c=0;c<n;c++)for(var o=0;o<n;o++)for(var i=0;i<n;i++)null!==t[o][i]&&r[a][c]>b([a,c],[o,i])&&(r[a][c]=b([a,c],[o,i]));for(var u=0;u<n;u++)for(var l=0;l<n;l++)r[u][l]>1e-4&&r[u][l]<4&&e.push([u,l,r[u][l]]);return e.sort((function(t,e){return r[e[0]][e[1]]>r[t[0]][t[1]]?-1:r[e[0]][e[1]]<r[t[0]][t[1]]?1:0})),e.length>60&&(e=e.slice(0,60)),0===(e=e.filter((function(t){return t[2]<=2}))).length&&e.push([Math.floor(n/2),Math.floor(n/2)]),e}(t),r=-Math.pow(10,9),a=Math.pow(10,9),c=0;return function t(e,r,a,o,f){var j=u(o);if(null!==j){for(var d,b,v=0;v<n.length;v++){var O=n[v][0],X=n[v][1];if(null===o[O][X]){d=O,b=X;break}}return"X"===o[j[0][0]][j[0][1]]?{point:Math.pow(10,9),x:d,y:b,pointX:Math.pow(10,9),pointO:0}:{point:-Math.pow(10,9),x:d,y:b,pointX:0,pointO:-Math.pow(10,9)}}if(0===e)return Object(l.a)({},function(t,e){for(var n=t.length,r=i(n),a=0,c=0,o=0,u=0;u<r.length;u++){for(var f=Object(l.a)({},r[u]),j=function(n){for(var r=function(r){for(var o=0;o<s.length;o++){var i=f.stretch.map((function(t){return[t[0]+n,t[1]+r]})).map((function(e){return t[e[0]][e[1]]}));if(s[o][0]===i[0]&&s[o][1]===i[1]&&s[o][2]===i[2]&&s[o][3]===i[3]&&s[o][4]===i[4]){e?(a+=h[o][0],c+=h[o][0]):(a+=h[o][1],c+=h[o][1]);break}}},o=f.startJ;o<f.endJ;o++)r(o)},d=f.startI;d<f.endI;d++)j(d);for(var b=function(n){for(var r=function(r){for(var c=0;c<p.length;c++){var i=f.stretch.map((function(t){return[t[0]+n,t[1]+r]})).map((function(e){return t[e[0]][e[1]]}));if(p[c][0]===i[0]&&p[c][1]===i[1]&&p[c][2]===i[2]&&p[c][3]===i[3]&&p[c][4]===i[4]){e?(a+=m[c][1],o+=m[c][1]):(a+=m[c][0],o+=m[c][0]);break}}},c=f.startJ;c<f.endJ;c++)r(c)},v=f.startI;v<f.endI;v++)b(v)}return{point:a,pointX:c,pointO:o}}(o,f));if(f){for(var x,w,M,_,g=-2*Math.pow(10,9),S=o.map((function(t){return t.slice()})),y=0;y<n.length;y++){var k=n[y][0],N=n[y][1];if(null===o[k][N]){if((c+=1)>3e3)break;S[k][N]="X";var I=t(e-1,r,a,S,!1);if(S[k][N]=null,g<I.point&&(g=I.point,M=I.pointX,_=I.pointO,x=k,w=N),r<g&&(r=g),r>=a)break}}return{point:g,x:x,y:w,pointX:M,pointO:_}}for(var J,C,A,q,L=2*Math.pow(10,9),H=o.map((function(t){return t.slice()})),W=0;W<n.length;W++){var T=n[W][0],E=n[W][1];if(null===o[T][E]){if((c+=1)>3e3)break;H[T][E]="O";var R=t(e-1,r,a,H,!0);if(H[T][E]=null,L>R.point&&(L=R.point,J=R.pointX,C=R.pointO,A=T,q=E),a>L&&(a=L),a<=r)break}}return{point:L,x:A,y:q,pointX:J,pointO:C}}(2,r,a,t,e)},O=n(0),X=function(){return Object(O.jsxs)("div",{className:"heading",children:[Object(O.jsx)("h1",{children:"Welcome to the game of Gomoku"}),Object(O.jsx)("p",{className:"animate__animated animate__backInLeft",children:"The person who gets the first Five wins!"})]})},x=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Scores"}),Object(O.jsxs)("div",{className:"scoreRow",children:[Object(O.jsxs)("div",{className:"humanScore",children:[Object(O.jsx)("h3",{children:"Human"}),Object(O.jsx)("p",{children:t.humanScore})]}),Object(O.jsxs)("div",{className:"computerScore",children:[Object(O.jsx)("h3",{children:"Computer"}),Object(O.jsx)("p",{children:t.computerScore})]})]})]})},w=function(t){return Object(O.jsx)("button",{className:"square \n                ".concat(t.isLastMove?"hightLight":"normal"," \n                ").concat(t.isWinning?"winning animate__animated animate__tada animate__repeat-3":""),style:"O"===t.lastSymbol?{cursor:"default"}:{cursor:"wait"},onClick:function(){return t.onClick()},children:t.value})},M=function(t){var e=t.squares,n=t.lastMove,r=t.handleClick;return Object(O.jsx)("div",{className:"animate__animated animate__backInLeft animate__delay-1s",children:e.map((function(t,a){return Object(O.jsx)("div",{className:"boardRow",children:t.map((function(t,c){return function(t,a){return Object(O.jsx)(w,{value:e[t][a],onClick:function(){return r(t,a)},lastSymbol:n?e[n[0]][n[1]]:"O",isLastMove:n&&n[0]===t&&n[1]===a,isWinning:u(e)&&u(e).filter((function(e){return e[0]===t&&e[1]===a})).length>0},a.toString())}(a,c)}))},a.toString())}))})},_=function(t){var e=u(t.squares);return Object(O.jsx)("div",{className:"status",children:null!==e?"X"===t.squares[e[0][0]][e[0][1]]?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{className:"animate__animated animate__flash animate__repeat-3",children:"Human! "})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{className:"animate__animated animate__flash animate__repeat-3",children:"Computer!!"})]}):t.xIsNext?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Human (X): Click on a square to play"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Computer (O): Thinking..."})]})})},g=function(t){var e=t.scores;return Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsxs)("p",{children:["The game has been played ",Object(O.jsx)("span",{className:"scoreStat",children:e.humanScore+e.computerScore})," times."]}),Object(O.jsxs)("p",{children:["Human: ",Object(O.jsx)("span",{className:"scoreStat",children:e.humanScore})," vs Computer: ",Object(O.jsx)("span",{className:"scoreStat",children:e.computerScore})]})]})},S=n(4),y=n.n(S),k=n(6),N=n(7),I=n.n(N),J="/api/scores",C={getAll:function(){var t=Object(k.a)(y.a.mark((function t(){var e,n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(J);case 2:return e=t.sent,n=e.data[0],r={humanScore:n.humanScore,computerScore:n.computerScore},t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addHumanScore:function(){var t=Object(k.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={score:1},t.next=3,I.a.put("".concat(J,"/humanScore"),e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addComputerScore:function(){var t=Object(k.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={score:1},t.next=3,I.a.put("".concat(J,"/computerScore"),e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},A=15,q=function(){var t=Object(a.useState)(!0),e=Object(r.a)(t,2),n=e[0],c=e[1],o=Object(a.useState)(new Array(A).fill().map((function(){return new Array(A).fill(null)}))),i=Object(r.a)(o,2),l=i[0],s=i[1],h=Object(a.useState)(n),p=Object(r.a)(h,2),f=p[0],j=p[1],m=Object(a.useState)(null),d=Object(r.a)(m,2),b=d[0],w=d[1],S=Object(a.useState)(0),y=Object(r.a)(S,2),k=y[0],N=y[1],I=Object(a.useState)(0),J=Object(r.a)(I,2),q=J[0],L=J[1],H=Object(a.useState)({humanScore:0,computerScore:0}),W=Object(r.a)(H,2),T=W[0],E=W[1];Object(a.useEffect)((function(){C.getAll().then((function(t){E(t),console.log("The scores is ",t)}))}),[]),Object(a.useEffect)((function(){if(null===u(l)&&!f){var t=l.map((function(t){return t.slice()})),e=v(t,f);t[e.x][e.y]="O",s(t),w([e.x,e.y]),j(!0),null!==u(t)&&(N(k+1),C.addComputerScore().then((function(t){E(t)})))}}),[f,n]);var R=null===b?{display:"none"}:{display:"initial"};return Object(O.jsxs)("div",{className:"total_game",children:[Object(O.jsx)(X,{}),Object(O.jsxs)("div",{className:"board_and_info",children:[Object(O.jsx)(M,{squares:l,lastMove:b,handleClick:function(t,e){if(!l[t][e]&&null===u(l)&&f){var n=l.map((function(t){return t.slice()}));n[t][e]="X",s(n),w([t,e]),j(!1),null!==u(n)&&(L(q+1),C.addHumanScore().then((function(t){E(t)})))}}}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"status animate__animated animate__backInLeft animate__delay-2s",children:Object(O.jsx)(_,{squares:l,xIsNext:f})}),Object(O.jsx)("div",{className:"score animate__animated animate__backInLeft animate__delay-3s",children:Object(O.jsx)(x,{humanScore:q,computerScore:k})}),Object(O.jsx)("button",{onClick:function(){s(new Array(A).fill().map((function(){return new Array(A).fill(null)})));var t=!n;c(t),j(t),w(null)},style:R,children:null===u(l)?"Restart the game ? ":"Another game ?"}),Object(O.jsx)(g,{scores:T})]})]})]})};o.a.render(Object(O.jsx)(q,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d64bbe1e.chunk.js.map