(this.webpackJsonpgomoku=this.webpackJsonpgomoku||[]).push([[0],{22:function(t,n,e){},43:function(t,n,e){"use strict";e.r(n),e.d(n,"size",(function(){return q}));var r=e(3),a=e(1),c=e(17),o=e.n(c),u=(e(22),function(t){return[{stretch:[[0,0],[0,1],[0,2],[0,3],[0,4]],startI:0,endI:t,startJ:0,endJ:t-4},{stretch:[[0,0],[1,0],[2,0],[3,0],[4,0]],startI:0,endI:t-4,startJ:0,endJ:t},{stretch:[[0,0],[1,1],[2,2],[3,3],[4,4]],startI:0,endI:t-4,startJ:0,endJ:t-4},{stretch:[[4,0],[3,1],[2,2],[1,3],[0,4]],startI:0,endI:t-4,startJ:0,endJ:t-4}]});function l(t){for(var n=t.length,e=u(n),r=0;r<e.length;r++)for(var a=e[r],c=function(n){for(var e=function(e){var r=a.stretch.map((function(t){return[t[0]+n,t[1]+e]})).map((function(n){return t[n[0]][n[1]]}));if(null!==r[0]&&r[0]===r[1]&&r[1]===r[2]&&r[2]===r[3]&&r[3]===r[4])return{v:{v:a.stretch.map((function(t){return[t[0]+n,t[1]+e]}))}}},r=a.startJ;r<a.endJ;r++){var c=e(r);if("object"===typeof c)return c.v}},o=a.startI;o<a.endI;o++){var l=c(o);if("object"===typeof l)return l.v}return null}for(var s=e(5),i=[["X","X","X","X","X"],[null,"X","X","X","X"],["X","X","X","X",null],["X","X","X",null,"X"],["X",null,"X","X","X"],["X","X",null,"X","X"],[null,"X","X","X",null],["X","X","X",null,null],[null,null,"X","X","X"],[null,"X",null,"X","X"],["X",null,"X",null,"X"],["X","X",null,"X",null],[null,"X","X",null,"X"],["X",null,"X","X",null],[null,"X",null,"X",null],[null,"X","X",null,null],[null,null,"X","X",null]],h=[[Math.pow(10,8),Math.pow(10,8)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,8),Math.pow(10,7)],[Math.pow(10,6),Math.pow(10,5)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,5),Math.pow(10,4)],[Math.pow(10,2),10],[Math.pow(10,2),10],[Math.pow(10,2),10]],p=i.map((function(t){return t.slice()})),f=0;f<i.length;f++)for(var j=0;j<i[f].length;j++)"X"===p[f][j]&&(p[f][j]="O");for(var d=h.map((function(t){return t.slice()})),b=0;b<d.length;b++)d[b][0]=-h[b][0],d[b][1]=-h[b][1];function v(t,n){return Math.pow(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),.5)}var m=function(t,n){var e=function(t){for(var n=[],e=t.length,r=new Array(e).fill().map((function(){return Array(e).fill(1e6)})),a=0;a<e;a++)for(var c=0;c<e;c++)for(var o=0;o<e;o++)for(var u=0;u<e;u++)null!==t[o][u]&&r[a][c]>v([a,c],[o,u])&&(r[a][c]=v([a,c],[o,u]));for(var l=0;l<e;l++)for(var s=0;s<e;s++)r[l][s]>1e-4&&r[l][s]<4&&n.push([l,s,r[l][s]]);return n.sort((function(t,n){return r[n[0]][n[1]]>r[t[0]][t[1]]?-1:r[n[0]][n[1]]<r[t[0]][t[1]]?1:0})),n.length>60&&(n=n.slice(0,60)),0===(n=n.filter((function(t){return t[2]<=2}))).length&&n.push([Math.floor(e/2),Math.floor(e/2)]),n}(t),r=-Math.pow(10,9),a=Math.pow(10,9),c=0;return function t(n,r,a,o,f){var j=l(o);if(null!==j){for(var b,v,m=0;m<e.length;m++){var O=e[m][0],X=e[m][1];if(null===o[O][X]){b=O,v=X;break}}return"X"===o[j[0][0]][j[0][1]]?{point:Math.pow(10,9),x:b,y:v,pointX:Math.pow(10,9),pointO:0}:{point:-Math.pow(10,9),x:b,y:v,pointX:0,pointO:-Math.pow(10,9)}}if(0===n)return Object(s.a)({},function(t,n){for(var e=t.length,r=u(e),a=0,c=0,o=0,l=0;l<r.length;l++){for(var f=Object(s.a)({},r[l]),j=function(e){for(var r=function(r){for(var o=0;o<i.length;o++){var u=f.stretch.map((function(t){return[t[0]+e,t[1]+r]})).map((function(n){return t[n[0]][n[1]]}));if(i[o][0]===u[0]&&i[o][1]===u[1]&&i[o][2]===u[2]&&i[o][3]===u[3]&&i[o][4]===u[4]){n?(a+=h[o][0],c+=h[o][0]):(a+=h[o][1],c+=h[o][1]);break}}},o=f.startJ;o<f.endJ;o++)r(o)},b=f.startI;b<f.endI;b++)j(b);for(var v=function(e){for(var r=function(r){for(var c=0;c<p.length;c++){var u=f.stretch.map((function(t){return[t[0]+e,t[1]+r]})).map((function(n){return t[n[0]][n[1]]}));if(p[c][0]===u[0]&&p[c][1]===u[1]&&p[c][2]===u[2]&&p[c][3]===u[3]&&p[c][4]===u[4]){n?(a+=d[c][1],o+=d[c][1]):(a+=d[c][0],o+=d[c][0]);break}}},c=f.startJ;c<f.endJ;c++)r(c)},m=f.startI;m<f.endI;m++)v(m)}return{point:a,pointX:c,pointO:o}}(o,f));if(f){for(var x,w,M,g,S=-2*Math.pow(10,9),y=o.map((function(t){return t.slice()})),k=0;k<e.length;k++){var N=e[k][0],I=e[k][1];if(null===o[N][I]){if((c+=1)>3e3)break;y[N][I]="X";var J=t(n-1,r,a,y,!1);if(y[N][I]=null,S<J.point&&(S=J.point,M=J.pointX,g=J.pointO,x=N,w=I),r<S&&(r=S),r>=a)break}}return{point:S,x:x,y:w,pointX:M,pointO:g}}for(var C,A,q,H,W=2*Math.pow(10,9),T=o.map((function(t){return t.slice()})),E=0;E<e.length;E++){var L=e[E][0],R=e[E][1];if(null===o[L][R]){if((c+=1)>3e3)break;T[L][R]="O";var _=t(n-1,r,a,T,!0);if(T[L][R]=null,W>_.point&&(W=_.point,C=_.pointX,A=_.pointO,q=L,H=R),a>W&&(a=W),a<=r)break}}return{point:W,x:q,y:H,pointX:C,pointO:A}}(2,r,a,t,n)},O=e(0),X=function(){return Object(O.jsxs)("div",{className:"heading",children:[Object(O.jsx)("h1",{children:"Welcome to the game of Gomoku"}),Object(O.jsx)("p",{children:"The person who gets the first Five wins!"})]})},x=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Scores"}),Object(O.jsxs)("div",{className:"scoreRow",children:[Object(O.jsxs)("div",{className:"humanScore",children:[Object(O.jsx)("h3",{children:"Human"}),Object(O.jsx)("p",{children:t.humanScore})]}),Object(O.jsxs)("div",{className:"computerScore",children:[Object(O.jsx)("h3",{children:"Computer"}),Object(O.jsx)("p",{children:t.computerScore})]})]})]})},w=function(t){return Object(O.jsx)("button",{className:"square \n                ".concat(t.isLastMove?"hightLight":"normal"," \n                ").concat(t.isWinning?"winning":""),style:"O"===t.lastSymbol?{cursor:"default"}:{cursor:"wait"},onClick:function(){return t.onClick()},children:t.value})},M=function(t){var n=t.squares,e=t.lastMove,r=t.handleClick;return Object(O.jsx)("div",{children:n.map((function(t,a){return Object(O.jsx)("div",{className:"boardRow",children:t.map((function(t,c){return function(t,a){return Object(O.jsx)(w,{value:n[t][a],onClick:function(){return r(t,a)},lastSymbol:e?n[e[0]][e[1]]:"O",isLastMove:e&&e[0]===t&&e[1]===a,isWinning:l(n)&&l(n).filter((function(n){return n[0]===t&&n[1]===a})).length>0},a.toString())}(a,c)}))},a.toString())}))})},g=function(t){var n=l(t.squares);return Object(O.jsx)("div",{className:"status",children:null!==n?"X"===t.squares[n[0][0]][n[0][1]]?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{children:"Human! "})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Winner"}),Object(O.jsx)("p",{children:"Computer!!"})]}):t.xIsNext?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Human (X): Click on a square to play"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Next player"}),Object(O.jsx)("p",{children:"Computer (O): Thinking..."})]})})},S=function(t){var n=t.scores;return Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsxs)("p",{children:["The game has been played ",Object(O.jsx)("span",{className:"scoreStat",children:n.humanScore+n.computerScore})," times."]}),Object(O.jsxs)("p",{children:["Human: ",Object(O.jsx)("span",{className:"scoreStat",children:n.humanScore})," vs Computer: ",Object(O.jsx)("span",{className:"scoreStat",children:n.computerScore})]})]})},y=e(4),k=e.n(y),N=e(6),I=e(7),J=e.n(I),C="/api/scores",A={getAll:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get(C);case 2:return n=t.sent,e=n.data[0],r={humanScore:e.humanScore,computerScore:e.computerScore},t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addHumanScore:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={score:1},t.next=3,J.a.put("".concat(C,"/humanScore"),n);case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addComputerScore:function(){var t=Object(N.a)(k.a.mark((function t(){var n,e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={score:1},t.next=3,J.a.put("".concat(C,"/computerScore"),n);case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},q=15,H=function(){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),e=n[0],c=n[1],o=Object(a.useState)(new Array(q).fill().map((function(){return new Array(q).fill(null)}))),u=Object(r.a)(o,2),s=u[0],i=u[1],h=Object(a.useState)(e),p=Object(r.a)(h,2),f=p[0],j=p[1],d=Object(a.useState)(null),b=Object(r.a)(d,2),v=b[0],w=b[1],y=Object(a.useState)(0),k=Object(r.a)(y,2),N=k[0],I=k[1],J=Object(a.useState)(0),C=Object(r.a)(J,2),H=C[0],W=C[1],T=Object(a.useState)({humanScore:0,computerScore:0}),E=Object(r.a)(T,2),L=E[0],R=E[1];Object(a.useEffect)((function(){A.getAll().then((function(t){R(t),console.log("The scores is ",t)}))}),[]),Object(a.useEffect)((function(){if(null===l(s)&&!f){var t=s.map((function(t){return t.slice()})),n=m(t,f);t[n.x][n.y]="O",i(t),w([n.x,n.y]),j(!0),null!==l(t)&&(I(N+1),A.addComputerScore().then((function(t){R(t)})))}}),[f,e]);var _=null===v?{display:"none"}:{display:"initial"};return Object(O.jsxs)("div",{className:"total_game",children:[Object(O.jsx)(X,{}),Object(O.jsxs)("div",{className:"board_and_info",children:[Object(O.jsx)(M,{squares:s,lastMove:v,handleClick:function(t,n){if(!s[t][n]&&null===l(s)&&f){var e=s.map((function(t){return t.slice()}));e[t][n]="X",i(e),w([t,n]),j(!1),null!==l(e)&&(W(H+1),A.addHumanScore().then((function(t){R(t)})))}}}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"status",children:Object(O.jsx)(g,{squares:s,xIsNext:f})}),Object(O.jsx)("div",{className:"score",children:Object(O.jsx)(x,{humanScore:H,computerScore:N})}),Object(O.jsx)("button",{onClick:function(){i(new Array(q).fill().map((function(){return new Array(q).fill(null)})));var t=!e;c(t),j(t),w(null)},style:_,children:null===l(s)?"Restart the game ? ":"Another game ?"}),Object(O.jsx)(S,{scores:L})]})]})]})};o.a.render(Object(O.jsx)(H,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e173df41.chunk.js.map